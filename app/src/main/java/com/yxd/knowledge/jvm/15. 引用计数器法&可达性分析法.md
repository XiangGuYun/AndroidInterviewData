# 怎么判断对象是否可以被回收

## 引用计数器法
1. 为每个对象创建一个引用计数，有对象引用时计数器+1，引用被释放时计数-1，
2. 当计数器为 0 时就可以被回收。
3. 它有一个缺点不能解决循环引用的问题，如下所示：
    ![](img/d1e6b195.png)

## 可达性分析算法

1. 从 GC Roots 开始向下搜索，搜索所走过的路径称为引用链。
2. 当一个对象到 GC Roots 没有任何引用链相连时，则证明此对象是可以被回收的。

![](img/fe6d96a4.png)

### GC Roots可以是哪些？
堆空间外的一些结构，比如虚拟机栈、本地方法栈、方法区、字符串常量池等地方对堆空间进行引用的，都可以作为 GC Roots 进行可达性分析。


